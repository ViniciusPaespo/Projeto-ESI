{"filter":false,"title":"user.js","tooltip":"/app/assets/javascripts/user.js","undoManager":{"mark":3,"position":3,"stack":[[{"start":{"row":0,"column":0},"end":{"row":63,"column":6},"action":"insert","lines":["","        function limpa_formulário_cep() {","            //Limpa valores do formulário de cep.","            document.getElementById('rua').value=(\"\");","            document.getElementById('bairro').value=(\"\");","            document.getElementById('cidade').value=(\"\");","            document.getElementById('uf').value=(\"\");","        }","","        function meu_callback(conteudo) {","        if (!(\"erro\" in conteudo)) {","            //Atualiza os campos com os valores.","            document.getElementById('rua').value=(conteudo.logradouro);","            document.getElementById('bairro').value=(conteudo.bairro);","            document.getElementById('cidade').value=(conteudo.localidade);","            document.getElementById('uf').value=(conteudo.uf);","        } //end if.","        else {","            //CEP não Encontrado.","            limpa_formulário_cep();","            alert(\"CEP não encontrado.\");","        }","    }","","    function pesquisacep(valor) {","","        //Nova variável \"cep\" somente com dígitos.","        var cep = valor.replace(/\\D/g, '');","        //Verifica se campo cep possui valor informado.","        if (cep != \"\") {","","            //Expressão regular para validar o CEP.","            var validacep = /^[0-9]{8}$/;","","            //Valida o formato do CEP.","            if(validacep.test(cep)) {","","                //Preenche os campos com \"...\" enquanto consulta webservice.","                document.getElementById('rua').value=\"...\";","                document.getElementById('bairro').value=\"...\";","                document.getElementById('cidade').value=\"...\";","                document.getElementById('uf').value=\"...\";","","                //Cria um elemento javascript.","                var script = document.createElement('script');","","                //Sincroniza com o callback.","                script.src = '//viacep.com.br/ws/'+ cep + '/json/?callback=meu_callback';","","                //Insere script no documento e carrega o conteúdo.","                document.body.appendChild(script);","","            } //end if.","            else {","                //cep é inválido.","                limpa_formulário_cep();","                alert(\"Formato de CEP inválido.\");","            }","        } //end if.","        else {","            //cep sem valor, limpa formulário.","            limpa_formulário_cep();","        }","    };"],"id":1}],[{"start":{"row":63,"column":6},"end":{"row":64,"column":0},"action":"insert","lines":["",""],"id":2},{"start":{"row":64,"column":0},"end":{"row":64,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":64,"column":4},"end":{"row":65,"column":0},"action":"insert","lines":["",""],"id":3},{"start":{"row":65,"column":0},"end":{"row":65,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":65,"column":4},"end":{"row":95,"column":0},"action":"insert","lines":["","\tfunction TestaCPF(strCPF) {","\t\tvar Soma;","\t\tvar Resto;","\t\tSoma = 0;","\t\tif (strCPF == \"00000000000\") return false;","","\t\tfor (i=1; i<=9; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (11 - i);","\t\tResto = (Soma * 10) % 11;","","\t\tif ((Resto == 10) || (Resto == 11))  Resto = 0;","\t\tif (Resto != parseInt(strCPF.substring(9, 10)) ) return false;","","\t\tSoma = 0;","\t\tfor (i = 1; i <= 10; i++) Soma = Soma + parseInt(strCPF.substring(i-1, i)) * (12 - i);","\t\tResto = (Soma * 10) % 11;","","\t\tif ((Resto == 10) || (Resto == 11))  Resto = 0;","\t\tif (Resto != parseInt(strCPF.substring(10, 11) ) ) return false;","\t\treturn true;","\t}","","\tfunction validaCPF(strCPF){","\t\tif (TestaCPF(strCPF) ){","\t\t\tdocument.getElementById('user_cpf').style.backgroundColor=\"#ffffff\";","\t\t} else{","\t\t\tdocument.getElementById('user_cpf').style.backgroundColor=\"rgb(255, 189, 185)\";","\t\t}","\t}","",""],"id":4}]]},"ace":{"folds":[],"scrolltop":730,"scrollleft":0,"selection":{"start":{"row":66,"column":28},"end":{"row":66,"column":28},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":2,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1477780017419,"hash":"2c2c7323794d39867d52682b9e43a627138cb030"}